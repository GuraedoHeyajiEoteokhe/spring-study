# 스프링 부트 3 백엔드 개발자 되기 - 자바편

## 01장 자바 백엔드 개발자가 알아두면 좋은 지식

> ### 핵심키워드 
> 스프링 / 스프링 부트 / 클라이언트 / 서버 / 아이피 / 포트 <br> / 라이브러리 / 프레임 워크 / 데이터 베이스 / 자바 어노테이션


### 1.1 서버와 클라이언트
#### 1.1-1 클라이언트(Client)? 서버로 요청하는 프로그램을 말함

- 대표적인 클라이언트 : **웹 브라우저**

#### 1.1-2 서버(Server)? 클라이언트의 요청을 받아 처리하는 주체

- **클라이언트** 데이터 요청 >> **서버** 데이터 전달
- 서버 내에서 처리만 해달라는 요청을 했으면 해당 요청만 처리 할 수 있음

### 1.2 데이터베이스
#### 1.2-1 데이터베이스(Database)? 여러 사람이 데이터를 한 군데에 모아놓고 여러 사람이 사용할 목적으로 관리하는 데이터 저장소

- 데이터베이스 관리 시스템(DBMS) : MySQL, 오라클(Oracle), 포스트그레SQL(postgreSQL)
- 클라이언트에서 SQL(DB 조작어)로 DBMS에데이터 요청 > DBMS는 DB에서 데이터를 꺼내 응답

#### 1.2-2 RDB
RDB(Relational Database)? 관계형데이터베이스
- 데이터를 행(row)과 열(column)로 이루어진 테이블로 관리
- 기본키(primary key)를 상용해 각 행 식별 및 테이블 간의 관계를 지을 수 있음
- 오라클, MySQL, SQL서버, 포스트그레SQL

#### 1.2-3 SQL
SQL(Structured Query Language)? 데이터를 검색 하는 언어

#### 1.2-4 NoSQL
RDB는 데이터 저장, 질의, 수정, 삭제가 용이 하지만 데이터 서능을 높이기가 어려움
- 이것을 해결 하기 위해 등장 >> **NoSQL**

### 1.3 아이피와 포트
#### 1.3-1 아이피
아이피(IP)? 컴퓨터 또는 기기들이 서로를 식별하고 통신하기 윈한 주소<br>
포트(Port)? 서버에서 운용되고 있는 서비스를 구분하기 위한 번호

### 1.4 라이브러리와 프레임워크
#### 1.4-1 라이브러리
라이브러리(library)? 원하는 기능을 구현하기 위해 클래스, 함수 등을 모아놓은 코드의 모음을 가져다 쓸 수 있는 일종의 도구 역할
- 개발자가 복잡한 코드를 직접 작성하지 않아도 되므로 원하는 기능을 더 빠르게 개발 할 수 있게 도와줌
- 독립적이라 라이브러리끼리 영향을 크게 끼치지 않음

#### 1.4-2 프레임워크
프레임워크(framework)? 소프트웨어 개발을 수월하게 하기 위한 소프트웨어 개발 환경
- 단점 : 정해진 틀에서 개발 해야함
- 장점 : 개뱔 효율 ⬆️⬆️

> 개발자가 소프트웨어를 개발하기 위해 사용하는 도구
>> 🥨프레임워크 : 애플리케이션 개발 할 때 전체적인 구조를 잡기 위해 사용  
>> 🍞라이브러리 : 개발하는 과정에서 필요한 기능을 구현하기 위해 사용 
 
### 1.5 백엔드 개발자의 업무
> 1️⃣과제 할당 > 2️⃣과제 분석 > 3️⃣개발 > 4️⃣테스트 > <br>5️⃣QA 및 버그수정 > 6️⃣배포 > 7️⃣유지보수

- 배포의 종류
    - 롤링배포
    - 블루 그린 배포
    - 카나리 배포
<br>
- CI/CD : 빌드 부터 배포까지 자동화<br>
   - CI : 새로운 코드 변경 사항이 정기적으로 빌드 및 테스트되어 저장소에 통합<br>
     - 저장소에 코드 반영<br>
   - CD : 지속적인 배포<br>
     - 실제 프로덕션 환경까지 변경된 코드 반영<br>

### 1.7 자바 어노테이션
자바 어노테이션(Java Annotation)? 자바로 작성한 코드에 추가하는 표식

- 자바의 대표적인 어노테이션

| 어노테이션 이름            | 설명                           |
|---------------------|--------------------------------|
| `@Override`         | 선언된 메서드가 오버라이드 되었음 |
| `@Deprecated`       | 더 이상 사용되지 않음            |
| `@SuppressWarnings` | 컴파일 경고를 무시함             |

## 02장 스프링 부트3 시작하기

> ### 핵심키워드
> IoC(제어의 역전) / DI(의존성 주입) / AOP(관점 지향 프로그래밍) / PSA(이식 가능한 서비스 추상화)

### 2.1 스프링과 스프링 부트
#### 스프링의 등장
- **엔터프라이즈 애플리케이션?** 대규모 복잡한 데이터를 관리하는 애플리케이션
- 소프트웨어 분야의 발전으로 엔터프라이즈 애플리케이션은 점점 복잡 해짐
- 엔터프라이즈 애플리케이션은 많은 사용자의 요청을 동시에 처리해야 하므로 서버 성능과 안정성, 보안이 중요해짐
- 이것들을 신경씀며 개발하기에는 어려움이 있음
- > 스프링 프레임워크 등장 <br>
  > **스프링 프레임워크** : 서버 성능, 안정성, 보안을 매우 높은 수준으로 제공하는 도구
 
#### 스프링을 더 쉽게 만들어주는 스프링 부트
- 스프링의 단점 : 설정이 복잡함 ➡️ **스프링 부트** 등장 
> **스프링부트** 
> - 스프링 프레임워크를 더 쉽고 빠르게 이용할 수 있도록 만들어 주는 도구
> - 개발자가 조금 더 비즈니스 로직 개발에만 집중할 수 있도록 만들어 주는 도구
> - 특징
>   - 웹 애플리케이션(WAS)가 내장 되어있어 따로 설치 없이 독립적으로 실행 가능
>   - 빌드 구성을 단순화하는 스프링부트 스타터 제공
>   - XML 설정을 하지 않고 자바 코드로 모두 작성 가능
>   - JAR를 이용해 자바 옵션만으로 배포 가능
>   - 애플리케이션의 모니터링 및 관리도구인 스프링 액츄에이터(Spring Actuator) 제공

#### 스프링과 스프링 부트의 개발 할때의 차이
1️⃣ 구성의 차이
- 스프링 : 애플리케이션 개발에 필요한 환경을 수동 구성 및 정의
- 스프링 부트 : 스프링코어와 스프링 MVC의 모든 기능을 자동으로 로드 > 수동으로 개발환경 구성할 필요❌

2️⃣내장 WAS의 유무
- 스프링 부트는 별도로 WAS설정을 하지 않아도 됨

📝스프링과 스프링 부트 특징 비교

| 항목 | 스프링                        | 스프링 부트                   |
|------|----------------------------|--------------------------|
| 목적 | 엔터프라이즈 애플리케이션 개발을 더 쉽게 만들기 | 스프링의 개발을 더 빠르고 쉽게 하기     |
| 설정 파일 | 수동                         | 자동                       |
| XML | 일부 파일은 XML로 직접 생성하고 관리     | 사용하지 않음                  |
| 인메모리 데이터베이스 지원 | 지원❌                        | 자동 설정 지원                 |
| 서버 | 톰캣, 제티등을 별도로 수동 설정         | 내장형 서버를 제공해 별도의 설정이 필요 ❌ |

### 2.2 스프링 콘셉트
#### IoC(제어의 역전)
IoC(Inversion Of Control)? 객체의 생성과 관리를 개발자가 하는 것이 아닌 프레임워크가 대신하는 것
<br>
#### DI(의존성 주입)
DI(Dependency Injection)? 어떤 클래스가 다른 클래스를 의존 한다는 뜻
- 예시 ) @Autowired라는 어노테이션은 스프링 컨테이너에서 빈이라는것을 주입 하는 역할

#### 스프링 컨테이너?
- 빈이 생성되고 소멸되기까지의 생명주기 관리

#### 빈?
- 스프링 컨테이너가 생성하고 관리하는 객체

#### 관점 지향 프로그래밍(AOP)
AOP(Aspect-Oriented Programming)? 프로그래밍을 할 때 핵심 관점과 부가 관점을 나누어 개발
 - 프로그램의 변경과 확장에 유연하게 대응 할 수 있게 해줌

#### 이식가능한 서비스 추상화(PSA)
PSA(Portable Service Abstraction)? 어느 기술을 사용하던 일관된 방식으로 처리하도록 하는 것
- 예시) 클라이언트의 매핑과 클래스, 매서드의 매핑을 위한 어노테이션이 있음

### 2.3 스프링 부트3 둘러보기

> http://localhost:8080/test <br>
> localhost : 현재 사용중인 컴퓨터 (127.0.0.1)<br>
> 8080 : 포트번호<br>
> /test : 경로

#### 2.3-1 스프링 부트 스타터 살펴보기
스프링 부트 스타터? 의존성이 모여 있는 그룹
- 필요한 기능을 간편하게 설정 가능
- spring-boot-starter-{작업유형} 명명 규칭이 있음
- 스프링 부트 스타터 종류 및 설명

| 스타터 | 설명 |
|--------|-------|
| spring-boot-starter-web | Spring MVC를 사용해서 RESTful 웹 서비스를 개발할 때 필요한 의존성 모음 |
| spring-boot-starter-test | 스프링 애플리케이션을 테스트하기 위해 필요한 의존성 모음 |
| spring-boot-starter-validation | 유효성 검사를 위해 필요한 의존성 모음 |
| spring-boot-starter-actuator | 모니터링을 위해 애플리케이션에서 제공하는 다양한 정보를 제공하기 쉽게 하는 의존성 모음 |
| spring-boot-starter-data-jpa | ORM을 사용하기 위한 인터페이스의 모음인 JPA를 더 쉽게 사용하기 위한 의존성 모음 |

#### 2.3-2 자동 구성
 - 스프링 부트에서는 애플리케이션이 최소한의 설정만으로도 실행되게 여러 부분을 자동으로 구성함
 - 자동으로 구성되는 클래스 : AutoConfiguration
 - 속성값을 정의해놓은 클래스 : Properties
 - 스프링 부트에서는 빈이 자동으로 등록되고 구성 됨

### 2.4 스프링 부트3 코드 이해
#### @SpringBootApplication 이해
```
@SpringBootApplication
public class SpringBootDeveloperApplication {
public static void main(String[] args) {
SpringApplication.run(SpringBootDeveloperApplication.class, args);
    }
}
```
- main()메서드와 같은 역할
- @SpringBootApplication 어노테이션 추가 시 스프링 부트 사용에 필요한 기본 설정을 함
- SpringApplication.run()메서드응 애플리케이션 실행
- 첫번째 인수 : 메인 클래스로 사용할 클래스
- 두번째 인수 : 커맨드 라인의 인수 전달

#### @springBootConfiguration
- 스프링 부트 관련 설정을 나타내는 어노테이션
- @Configuration 상속받은 어노테이션

#### @ComponentScan
- 사용자가 등록한 빈을 읽고 등록하는 어노테이션
- @Component라는 어노테이션을 가진 클래스들을 찾아 빈으로 등록
- 스프링 어노테이션 설명

| 어노테이션명                       | 설명 |
|------------------------------|-------|
| @Configuration               | 설정 파일 등록 |
| @Repository                  | ORM 매핑 |
| @Controller, @RestController | 라우터 |
| @Service                     | 비즈니스 로직 |

#### @EnableAutoConfiguration
- 자동 구성을 활성화 하는 어노테이션
- 스프링 부트의 메타 파일을 읽고 정의된 설정들을 자동으로 구성하는 역할 수행

#### @RestController와 @Component는 어노테이션 용어가 다른데 어떻게 같은 취급을 할까??
> @RestController => <br>
> @Controller(@Component) + @ResponseBody

## 03장 스프링 부트3 구조 이해하기
> ### 핵심키워드
> 프레젠테이션 계층 / 비즈니스 계층 / 퍼시스턴스 계층

### 프로젝트 살펴보기 
- Controller 클래스 : 어떤 요청인지 판단
- Service 클래스 : 요청에 맞는 작업 실행
- Repository 클래스 : DB를 위한 클래스
- getter,setter 등이 있는 클래스 : Repository가 실제 티이블과 연결

### 스프링 부트3 구조 살펴보기
- 각 계층이 양 옆의 계층과 통신하는 구조
- 각 계층은 서로 소통은 가능 하나 다른 계층에 직접 간섭이나 영향을 미치지 않음

#### 프레젠테이션 계층
- HTTP 요청을 받고 이 요청을 비즈니스 계층으로 전송하는 역할
- Controller

#### 비즈니스 계층
- 모든 비즈니스 로직(서비스를 만들기위한 로직) 처리
- 데이터를 처리하기 위한 로직, 주문 처리를 하다가 발생하는 예외처리 로직, 주문을 받거나 취소하는 것 같이 프로세스를 구현하기 위한 로직 등
- Service

#### 퍼시스턴스 계층
- 모든 DB 관련 로직 처리<br>
- DB에 접근하는 DAO객체 사용 가능<br>
    - DAO: DB계층과 상호작용하기 위한 객체<br>
- Repository

### 스프링 부트 요청-응답 과정
1️⃣ 포스트맨에서 톰캣에 GET요청 <br>
-> 스프링 부트의 디스패처 서블릿 URL 분석<br>
-> 요청을 처리할 컨트롤러 찾기<br>
2️⃣ 컨트롤러에 처리 할 수 있는 메서드와 요청 매치<br>
 -> 비즈니스 계층과 퍼시스턴스 계층을 통해 필요한 데이터 가져오기 <br>
3️⃣ HTML 문서를 만들거나 JSON, XML 등의 데이터 생성<br>
4️⃣ return된 데이터를 포스트맨에서 볼 수 있게 됨 <br>